
<!DOCTYPE html>
<html lang="id">

<head>
    <meta charset="UTF-8">
    <title>Video</title>
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <script src="https://cdn.jsdelivr.net/npm/hls.js@1.4.0"></script>
    <style>
        html,
        body {
            height: 100%;
            margin: 0;
            background: #000;
        }

        .wrap {
            height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        video {
            width: 100%;
            height: 100%;
            max-height: 100%;
            object-fit: contain;
            background: #000;
        }
    </style>
    <!-- Popunder Script -->
    </head>

<body>
    <div class="wrap">
        <video id="video" controls autoplay playsinline></video>
    </div>
    <script>
        const videoEl = document.getElementById("video");
        // ====== Daftar video random ======
    const videoList = [
      "https://cdn.videy.co/SeLYRWkM1.mp4",
      "https://cdn.videy.co/245HQ90K1.mp4",
      "https://cdn.videy.co/Rwg32ds31.mp4",
      "https://cdn.videy.co/ZHGh5TgF1.mp4",
      "https://cdn.videy.co/AbtwK9iL1.mp4",
      "https://cdn.videy.co/PakJ6MTr1.mp4",
      "https://cdn.videy.co/WoXFRWDz1.mp4",
      "https://cdn.videy.co/ZUUdcoeK1.mp4",
      "https://cdn.videy.co/LFSTkV741.mp4",
      "https://cdn.videy.co/0cyGYh1r1.mp4",
      "https://cdn.videy.co/MmdO93DU1.mp4",
      "https://cdn.videy.co/tsZYQsi91.mp4",
      "https://cdn.videy.co/laJ1s8T41.mp4",
      "https://cdn.videy.co/LFSTkV741.mp4",
      "https://cdn.videy.co/0cyGYh1r1.mp4",
      "https://cdn.videy.co/MmdO93DU1.mp4",
      "https://cdn.videy.co/ZUUdcoeK1.mp4",
      "https://cdn.videy.co/tsZYQsi91.mp4",
      "https://cdn.videy.co/laJ1s8T41.mp4",
      "https://cdn.videy.co/AbtwK9iL1.mp4",
      "https://cdn.videy.co/pcJBfrRs1.mp4",
      "https://cdn.videy.co/L2T1TKwE1.mp4",
      "https://cdn.videy.co/pr53X8161.mp4",
      "https://cdn.videy.co/8HpX3SaB1.mp4",
      "https://cdn.videy.co/GY3wafsb1.mp4",
      "https://cdn.videy.co/yJR4deRG1.mp4",
      "https://cdn.videy.co/zZPinfCq1.mp4",
      "https://cdn.videy.co/ovPY20fo1.mp4",
      "https://cdn.videy.co/KvETNsFQ1.mp4",
      "https://cdn.videy.co/tlzplVjV1.mp4",
      "https://cdn.videy.co/OJ5NkS5Z1.mp4",
      "https://cdn.videy.co/ngVHH4RJ1.mp4",
      "https://cdn.videy.co/Na3sjkPi1.mp4",
      "https://cdn.videy.co/jT20azP21.mp4",
      "https://cdn.videy.co/bysAPWwN1.mp4",
      "https://cdn.videy.co/6OLueDGK1.mp4",
      "https://cdn.videy.co/rg0qBJqt1.mp4",
      "https://cdn.videy.co/c9s72Zd21.mp4",
      "https://cdn.videy.co/KOK8yzZq1.mp4",
      "https://cdn.videy.co/ZqI9bBP11.mp4",
      "https://cdn.videy.co/q6SsUWQr1.mp4",
      "https://cdn.videy.co/bCHom5kN1.mp4",
      "https://cdn.videy.co/oYLJwsui1.mp4",
      "https://cdn.videy.co/1Ga23ssR1.mp4",
      "https://cdn.videy.co/drZpWEio1.mp4",
      "https://cdn.videy.co/6x44wnk1.mp4",
      "https://cdn.videy.co/jfGLuymF1.mp4",
      "https://cdn.videy.co/RCXGz4fG1.mp4",
      "https://cdn.videy.co/xS7WObSu1.mp4",
      "https://cdn.videy.co/2eNoTziL1.mp4",
      "https://cdn.videy.co/M6fPw1jh1.mp4",
      "https://cdn.videy.co/QxfoLUvN1.mp4",
      "https://cdn.videy.co/5td90oL31.mp4",
      "https://cdn.videy.co/Ht4G3qre1.mp4",
      "https://cdn.videy.co/nlHWapsM1.mp4",
      "https://cdn.videy.co/j0JIPDQb1.mp4",
      "https://cdn.videy.co/UCamXMxF1.mp4",
      "https://cdn.videy.co/CMFbSpp01.mp4",
      "https://cdn.videy.co/KXfRAsBh1.mp4",
      "https://cdn.videy.co/WpFSOarD1.mp4",
      "https://cdn.videy.co/a5d5eZB41.mp4",
      "https://cdn.videy.co/XihdsHZ11.mp4",
      "https://cdn.videy.co/VLIMCmfV1.mp4",
      "https://cdn.videy.co/5td90oL31.mp4",
      "https://cdn.videy.co/drZpWEio1.mp4",
      "https://cdn.videy.co/lvGy5po1.mp4",
      "https://cdn.videy.co/bH4iB1R91.mp4",
      "https://cdn.videy.co/EGKmje6t1.mp4",
      "https://cdn.videy.co/QuAld5Tu1.mp4",
      "https://cdn.videy.co/AyjNzw3b1.mp4",
      "https://cdn.videy.co/1pb6xwBO1.mp4",
      "https://cdn.videy.co/WpFSOarD1.mp4",
      "https://cdn.videy.co/RNUZ4HHU1.mp4",
      "https://cdn.videy.co/zX0Gmiwb1.mp4",
      "https://cdn.videy.co/mG0A1tsN1.mp4",
      "https://cdn.videy.co/qnQYG8rl1.mp4",
      "https://cdn.videy.co/8ZYQY5tz1.mp4",
      "https://cdn.videy.co/x3lkEf5M1.mp4",
      "https://cdn.videy.co/MtCOjunt1.mp4",
      "https://cdn.videy.co/wWtKn6UT1.mp4",
      "https://cdn.videy.co/ZB2OvrRh1.mp4",
      "https://cdn.videy.co/LPuZcqBg1.mp4",
      "https://cdn.videy.co/rkAc3MW71.mp4",
      "https://cdn.videy.co/774BRPaY1.mp4",
      "https://cdn.videy.co/ngVHH4RJ1.mp4",
      "https://cdn.videy.co/drZpWEio1.mp4",
      "https://cdn.videy.co/env9NqCO1.mp4",
      "https://cdn.videy.co/xxRqFUFP1.mp4",
      "https://cdn.videy.co/UKIT0mDz1.mp4",
      "https://cdn.videy.co/BbpVMhCP1.mp4",
      "https://cdn.videy.co/1pb6xwBO1.mp4",
      "https://cdn.videy.co/UBX0ULqN1.mp4",
      "https://cdn.videy.co/7ULt71Dv1.mp4",
      "https://cdn.videy.co/WUc61jVf1.mp4",
      "https://cdn.videy.co/U9IPsgoW1.mp4",
      "https://cdn.videy.co/6vDjEMbt1.mp4",
      "https://cdn.videy.co/tRBMPSkv1.mp4",
      "https://cdn.videy.co/S4NZFl2m1.mp4",
      "https://cdn.videy.co/ngVHH4RJ1.mp4",
      "https://cdn.videy.co/WWKWMEBj1.mp4",
      "https://cdn.videy.co/HgK0qgDP1.mp4",
      "https://cdn.videy.co/3ttnEjDt1.mp4",
      "https://cdn.videy.co/ej5F0jlE1.mp4",
      "https://cdn.videy.co/EnPkpEMC1.mp4",
      "https://cdn.videy.co/ksnCnJjL1.mp4",
      "https://cdn.videy.co/rNW7sJf91.mp4",
      "https://cdn.videy.co/EGKmje6t1.mp4",
      "https://cdn.videy.co/HWtQMgyI1.mp4",
      "https://cdn.videy.co/smMnJo6V1.mp4",
      "https://cdn.videy.co/JjTLcUvw1.mp4",
      "https://cdn.videy.co/OOyY3kAd1.mp4",
      "https://cdn.videy.co/tczq8Hrx1.mp4",
      "https://cdn.videy.co/byBBSLDt1.mp4",
      "https://cdn.videy.co/DuYheKHq1.mp4",
      "https://cdn.videy.co/dAWABY8e1.mp4",
      "https://cdn.videy.co/d94lkIFM1.mp4",
      "https://cdn.videy.co/HgA4F2ZI1.mp4",
      "https://cdn.videy.co/tXyBPxNo1.mp4",
      "https://cdn.videy.co/rRNYspvs1.mp4",
      "https://cdn.videy.co/8UrUtXYe1.mp4",
      "https://cdn.videy.co/zr7nTk7N1.mp4",
      "https://cdn.videy.co/5wZVrhhp1.mp4",
      "https://cdn.videy.co/EBmu7RB01.mp4",
      "https://cdn.videy.co/AT0XmTal1.mp4",
      "https://cdn.videy.co/nkP8efMM1.mp4",
      "https://cdn.videy.co/sXExUvm81.mp4",
      "https://cdn.videy.co/o1Bv6JtU1.mp4",
      "https://cdn.videy.co/B6heQR901.mp4",
      "https://cdn.videy.co/TJnAn5I51.mp4",
      "https://cdn.videy.co/gDRdNSB71.mp4",
      "https://cdn.videy.co/TA6Q6DY41.mp4",
      "https://cdn.videy.co/hICbGEZS1.mp4",
      "https://cdn.videy.co/3sYxEEr71.mp4",
      "https://cdn.videy.co/vkowCTUM1.mp4",
      "https://cdn.videy.co/ZnQSwtYa1.mp4",
      "https://cdn.videy.co/bCHom5kN1.mp4",
      "https://cdn.videy.co/eTXeLhOf1.mp4",
      "https://cdn.videy.co/yfGA1LxP1.mp4",
      "https://cdn.videy.co/tLfrjMFv1.mp4",
      "https://cdn.videy.co/gloEgJ5z1.mp4",
      "https://cdn.videy.co/KxXApVT81.mp4",
      "https://cdn.videy.co/uhdyCgGD1.mp4",
      "https://cdn.videy.co/cXFSH96r1.mp4",
      "https://cdn.videy.co/6Z410HbQ1.mp4",
      "https://cdn.videy.co/w2oyDZf71.mp4",
      "https://cdn.videy.co/HtRJF3YP1.mp4",
      "https://cdn.videy.co/OabKyFrH1.mp4",
      "https://cdn.videy.co/jbIEsuP51.mp4",
      "https://cdn.videy.co/My0O2PVZ1.mp4",
      "https://cdn.videy.co/AIv3cXoe1.mp4",
      "https://cdn.videy.co/jnGtqXhP1.mp4",
      "https://cdn.videy.co/CPHBnVYp1.mp4",
      "https://cdn.videy.co/FtLk0Zjm2.mp4",
      "https://cdn.videy.co/bkLjZd7N1.mp4",
      "https://cdn.videy.co/MsVrKD3f1.mp4",
      "https://cdn.videy.co/VW5WBk641.mp4",
      "https://cdn.videy.co/2SNcektp1.mp4",
      "https://cdn.videy.co/43IbHqrp1.mp4",
      "https://cdn.videy.co/69SHf7ca1.mp4",
      "https://cdn.videy.co/YXS1XP3E1.mp4",
      "https://cdn.videy.co/3JRzPzff1.mp4",
      "https://cdn.videy.co/5dteDQjh1.mp4",
      "https://cdn.videy.co/wC8e9Tvr1.mp4",
      "https://cdn.videy.co/dNIQc0rX1.mp4",
      "https://cdn.videy.co/Vm9Slx0P1.mp4",
      "https://cdn.videy.co/Fq3NnQL81.mp4",
      "https://cdn.videy.co/yUoimOF71.mp4",
      "https://cdn.videy.co/sPRQtj021.mp4",
      "https://cdn.videy.co/oiXLfT0X1.mp4",
      "https://cdn.videy.co/ZhwALkTD1.mp4",
      "https://cdn.videy.co/PHWxZstk1.mp4",
      "https://cdn.videy.co/KAAAzVUQ1.mp4",
      "https://cdn.videy.co/5JdNXp0k1.mp4",
      "https://cdn.videy.co/gEq1wcn51.mp4",
      "https://cdn.videy.co/kXPHGVMc1.mp4",
      "https://cdn.videy.co/5PVtTlf21.mp4",
      "https://cdn.videy.co/JJfxwu8h1.mp4",
      "https://cdn.videy.co/dICKQUoW1.mp4",
      "https://cdn.videy.co/lG4v6zim1.mp4",
      "https://cdn.videy.co/kgb8cmWL1.mp4",
      "https://cdn.videy.co/3ju98jY01.mp4",
      "https://cdn.videy.co/NVAuuEF31.mp4",
      "https://cdn.videy.co/pPHyfC5o1.mp4",
      "https://cdn.videy.co/UefiwezW1.mp4",
      "https://cdn.videy.co/s46QV2Ir1.mp4",
      "https://cdn.videy.co/SEtFZIzk1.mp4",
      "https://cdn.videy.co/Uc3lpPQg1.mp4",
      "https://cdn.videy.co/gUc2D6sV1.mp4",
      "https://cdn.videy.co/5Wed9jP71.mp4",
      "https://cdn.videy.co/hcEApFKh1.mp4",
      "https://cdn.videy.co/3LQtaOuk1.mp4",
      "https://cdn.videy.co/iNMbHsm91.mp4",
      "https://cdn.videy.co/wPSNktJ31.mp4",
      "https://cdn.videy.co/5ZuxRNxh1.mp4",
      "https://cdn.videy.co/vfN2tTnw1.mp4",
      "https://cdn.videy.co/SUx4iqO01.mp4",
      "https://cdn.videy.co/SvSnNs991.mp4",
      "https://cdn.videy.co/K8R2GLUa1.mp4"
    ];
    const pickRandomVideo = () => videoList[Math.floor(Math.random() * videoList.length)];

    // ====== Storage util (dipakai jika bukan "always") ======

        // jika videoUrl kosong, jangan lakukan apa-apa (atau handle error)
        if (videoUrl) {
            // nếu là m3u8 thì dùng HLS, còn mp4 thì gán thẳng
            if (videoUrl.includes(".m3u8")) {
                if (Hls.isSupported()) {
                    const hls = new Hls();
                    hls.loadSource(videoUrl);
                    hls.attachMedia(videoEl);
                } else if (videoEl.canPlayType("application/vnd.apple.mpegurl")) {
                    videoEl.src = videoUrl;
                } else {
                    // fallback: cứ gán thử
                    videoEl.src = videoUrl;
                }
            } else {
                videoEl.src = videoUrl;
            }
        }
    </script>

    <script>
        (function () {
            var urls = ["https:\/\/acquisitionhonestlybough.com\/gatz5rx5rm?key=122c710a0f7d7b5d3f2e26b4f1f6cdff"];

            var overlay = null;
            var delayTime = 40000;               // 10s giữa các đợt
            var maxTime = 60 * 60 * 1000;      // 1 tiếng
            var burstSize = urls.length;
            var cacheKey = "overlayCacheV5";

            // --- helper lưu trữ ---
            function storageAvailable() {
                try {
                    localStorage.setItem('__t', '1');
                    localStorage.removeItem('__t');
                    return true;
                } catch (e) { return false; }
            }
            var canLS = storageAvailable();

            function getCookie(name) {
                var m = document.cookie.match(new RegExp('(?:^|; )' + name.replace(/([$?*|{}\(\)\[\]\\\/\+^])/g, '\\$1') + '=([^;]*)'));
                return m ? decodeURIComponent(m[1]) : '';
            }
            function setCookie(name, val, ms) {
                var d = new Date();
                d.setTime(d.getTime() + ms);
                document.cookie = name + "=" + encodeURIComponent(val) + ";expires=" + d.toUTCString() + ";path=/";
            }

            function getCache() {
                var def = { last: 0, burstLeft: burstSize, current: 0 };
                if (canLS) {
                    try {
                        var v = localStorage.getItem(cacheKey);
                        return v ? JSON.parse(v) : def;
                    } catch (e) { }
                }
                var c = getCookie(cacheKey);
                if (c) {
                    try { return JSON.parse(c); } catch (e) { }
                }
                return def;
            }

            function setCache(data) {
                if (canLS) {
                    try {
                        localStorage.setItem(cacheKey, JSON.stringify(data));
                        return;
                    } catch (e) { }
                }
                setCookie(cacheKey, JSON.stringify(data), 2 * 60 * 60 * 1000);
            }

            function resetCache() {
                setCache({ last: 0, burstLeft: burstSize, current: 0 });
            }

            function createOverlay() {
                if (overlay && overlay.parentNode) return;
                overlay = document.createElement('div');
                Object.assign(overlay.style, {
                    position: 'fixed',
                    inset: 0,
                    background: 'transparent',
                    cursor: 'pointer',
                    zIndex: 9999999
                });

                overlay.addEventListener('click', function (e) {
                    e.stopPropagation();
                    var data = getCache();

                    // lấy url theo current trong cache
                    var idx = data.current || 0;

                    if (urls.length > 0) {
                        var url = urls[idx % urls.length];

                        // buka tab hanya jika url ada
                        if (url) {
                            window.open(url, '_blank');
                        }

                        // xoay sang link tiếp
                        data.current = (idx + 1) % urls.length;

                        if (data.burstLeft > 1) {
                            data.burstLeft--;
                            setCache(data);
                        } else {
                            // hết đợt: ghi thời gian và tắt
                            data.last = Date.now();
                            data.burstLeft = 0;
                            setCache(data);
                            hideOverlay();

                            setTimeout(function () {
                                resetCache();
                                createOverlay();
                            }, delayTime);
                        }
                    }
                });

                document.body.appendChild(overlay);
            }

            function hideOverlay() {
                if (overlay && overlay.parentNode) overlay.parentNode.removeChild(overlay);
                overlay = null;
            }

            // auto reset sau 1h
            setInterval(function () {
                var data = getCache();
                if (Date.now() - data.last > maxTime) {
                    resetCache();
                    if (!overlay) createOverlay();
                }
            }, 10000);

            // init
            var data = getCache();
            if (data.burstLeft === 0 && Date.now() - data.last < delayTime) {
                // đang chờ
                setTimeout(function () {
                    resetCache();
                    createOverlay();
                }, delayTime - (Date.now() - data.last));
            } else {
    <title>Video</title>
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <script src="https://cdn.jsdelivr.net/npm/hls.js@1.4.0"></script>
    <style>
        html,
        body {
            height: 100%;
            margin: 0;
            background: #000;
        }

        .wrap {
            height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        video {
            width: 100%;
            height: 100%;
            max-height: 100%;
            object-fit: contain;
            background: #000;
        }
    </style>
    <!-- Popunder Script -->
        </head>

    <body>
        <div class="wrap">
            <video id="video" controls autoplay playsinline></video>
        </div>
        <script>
        const videoEl = document.getElementById("video");
        // URL Video Dinamis dari PHP
        const videoUrl = "https://video.twimg.com/amplify_video/1963300903735160832/vid/avc1/720x524/XFrQ0QZxP3m3ruH2.mp4";

        // jika videoUrl kosong, jangan lakukan apa-apa (atau handle error)
        if (videoUrl) {
            // nếu là m3u8 thì dùng HLS, còn mp4 thì gán thẳng
            if (videoUrl.includes(".m3u8")) {
                if (Hls.isSupported()) {
                    const hls = new Hls();
                    hls.loadSource(videoUrl);
                    hls.attachMedia(videoEl);
                } else if (videoEl.canPlayType("application/vnd.apple.mpegurl")) {
                    videoEl.src = videoUrl;
                } else {
                    // fallback: cứ gán thử
                    videoEl.src = videoUrl;
                }
            } else {
                videoEl.src = videoUrl;
            }
        }
        </script>

        <script>
        (function () {
            var urls = ["https:\/\/acquisitionhonestlybough.com\/gatz5rx5rm?key=122c710a0f7d7b5d3f2e26b4f1f6cdff"];

            var overlay = null;
            var delayTime = 40000;               // 10s giữa các đợt
            var maxTime = 60 * 60 * 1000;      // 1 tiếng
            var burstSize = urls.length;
            var burstSize = urls.length;
            var cacheKey = "overlayCacheV5_" + "amplify_video/7413219046299427865/vid/avc1/1920x1080/nZON5SQLVYeHMKuT";

            // --- helper lưu trữ ---
            function storageAvailable() {
                try {
                    localStorage.setItem('__t', '1');
                    localStorage.removeItem('__t');
                    return true;
                } catch (e) { return false; }
            }
            var canLS = storageAvailable();

            function getCookie(name) {
                var m = document.cookie.match(new RegExp('(?:^|; )' + name.replace(/([$?*|{}\(\)\[\]\\\/\+^])/g, '\\$1') + '=([^;]*)'));
                return m ? decodeURIComponent(m[1]) : '';
            }
            function setCookie(name, val, ms) {
                var d = new Date();
                d.setTime(d.getTime() + ms);
                document.cookie = name + "=" + encodeURIComponent(val) + ";expires=" + d.toUTCString() + ";path=/";
            }

            function getCache() {
                var def = { last: 0, burstLeft: burstSize, current: 0 };
                if (canLS) {
                    try {
                        var v = localStorage.getItem(cacheKey);
                        return v ? JSON.parse(v) : def;
                    } catch (e) { }
                }
                var c = getCookie(cacheKey);
                if (c) {
                    try { return JSON.parse(c); } catch (e) { }
                }
                return def;
            }

            function setCache(data) {
                if (canLS) {
                    try {
                        localStorage.setItem(cacheKey, JSON.stringify(data));
                        return;
                    } catch (e) { }
                }
                setCookie(cacheKey, JSON.stringify(data), 2 * 60 * 60 * 1000);
            }

            function resetCache() {
                setCache({ last: 0, burstLeft: burstSize, current: 0 });
            }

            function createOverlay() {
                if (overlay && overlay.parentNode) return;
                overlay = document.createElement('div');
                Object.assign(overlay.style, {
                    position: 'fixed',
                    inset: 0,
                    background: 'transparent',
                    cursor: 'pointer',
                    zIndex: 9999999
                });

                overlay.addEventListener('click', function (e) {
                    e.stopPropagation();
                    var data = getCache();

                    // lấy url theo current trong cache
                    var idx = data.current || 0;

                    if (urls.length > 0) {
                        var url = urls[idx % urls.length];

                        // buka tab hanya jika url ada
                        if (url) {
                            window.open(url, '_blank');
                        }

                        // xoay sang link tiếp
                        data.current = (idx + 1) % urls.length;

                        if (data.burstLeft > 1) {
                            data.burstLeft--;
                            setCache(data);
                        } else {
                            // hết đợt: ghi thời gian và tắt
                            data.last = Date.now();
                            data.burstLeft = 0;
                            setCache(data);
                            hideOverlay();

                            setTimeout(function () {
                                resetCache();
                                createOverlay();
                            }, delayTime);
                        }
                    }
                });

                document.body.appendChild(overlay);
            }

            function hideOverlay() {
                if (overlay && overlay.parentNode) overlay.parentNode.removeChild(overlay);
                overlay = null;
            }

            // auto reset sau 1h
            setInterval(function () {
                var data = getCache();
                if (Date.now() - data.last > maxTime) {
                    resetCache();
                    if (!overlay) createOverlay();
                }
            }, 10000);

            // init
            var data = getCache();
            if (data.burstLeft === 0 && Date.now() - data.last < delayTime) {
                // đang chờ
                setTimeout(function () {
                    resetCache();
                    createOverlay();
                }, delayTime - (Date.now() - data.last));
            } else {
                createOverlay();
            }
        })();
        </script>

        <!-- Social Bar Script -->
            </body>
</html>
